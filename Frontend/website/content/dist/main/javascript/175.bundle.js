"use strict";(self.webpackChunkSummarize=self.webpackChunkSummarize||[]).push([[175],{175:(o,r,t)=>{t.r(r),t.d(r,{default:()=>w});var e=t(743),n=t(841),i=(0,e.vs)("<nav><div><a href=http://127.0.0.1:8080/><img src=http://127.0.0.1:8080/favicon.ico><span>Summarize</span></a></div><div><a href=http://127.0.0.1:8080/pricing/>Pricing</a></div><div><a href=http://127.0.0.1:8080/accounts/login/>Log in</a><a href=http://127.0.0.1:8080/accounts/register/>Sign up");const a=()=>i();var s=(0,e.vs)("<h1>Log in"),p=(0,e.vs)("<form><input type=email placeholder=email required><input type=password placeholder=password><input type=input placeholder=totp><input type=submit value=Login>"),l=(0,e.vs)("<p>");const d=async o=>(await fetch("http://127.0.0.1:8000/login/email",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o()})})).json(),h=async(o,r)=>(await fetch("http://127.0.0.1:8000/login/password",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o(),password:r()})})).json(),u=async(o,r,t)=>await fetch("http://127.0.0.1:8000/login/totp",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o(),password:r(),totp:t()})}),w=()=>{const[o,r]=(0,n.n5)(0),[t,i]=(0,n.n5)(""),[w,f]=(0,n.n5)(""),[c,g]=(0,n.n5)("");return[(0,n.a0)(a,{}),s(),(v=p(),y=v.firstChild,E=y.nextSibling,S=E.nextSibling,v.addEventListener("submit",(function(e){e.preventDefault(),console.log("email: ",t(),"\npassword: ",w()),(async(o,r,t,e,n)=>{let i;if(0===o())((o,r,t)=>{if(""==o())throw new Error("Email not supported for email login");if(""!=r())throw new Error("Password not supported for email login");if(""!=t())throw new Error("Totp not supported for email login")})(t,e,n),i=d(t).then((o=>{console.log(o),!0===o&&r(1)}));else if(1===o())((o,r,t)=>{if(""==o())throw new Error("Email not supported for password login");if(""==r())throw new Error("Password required for password login");if(""!=t())throw new Error("Totp not supported for password login")})(t,e,n),i=h(t,e).then((o=>{!0===o&&r(2)}));else{if(2!==o())throw new Error("Invalid mode: "+o);((o,r,t)=>{if(""==o())throw new Error("Email not supported for password login");if(""==r())throw new Error("Password required for password login");if(""==t())throw new Error("Totp required for password login")})(t,e,n),i=u(t,e,n)}return i})(o,r,t,w,c).then((o=>console.log("response: ",o)))})),y.$$input=o=>i(o.target.value),E.$$input=o=>f(o.target.value),S.$$input=o=>g(o.target.value),v),(m=l(),(0,e.Yr)(m,t),m)];var m,v,y,E,S};(0,e.z_)(["input"])}}]);