"use strict";(self.webpackChunkSummarize=self.webpackChunkSummarize||[]).push([[504],{504:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(743),i=n(841);function o(e,t,n){let r="";if(n){const e=new Date;e.setTime(e.getTime()+60*n*1e3),r="; expires="+e.toUTCString()}document.cookie=e+"="+t+r+"; path=/; secure; SameSite=Strict"}var s=(0,r.vs)("<form><input type=email placeholder=email required><input type=submit value=Login>");const a=e=>{const[t,n]=(0,i.n5)("");return a=(r=s()).firstChild,r.addEventListener("submit",(function(n){n.preventDefault(),(async(e,t)=>{let n=(async e=>(await fetch("http://127.0.0.1:8000/register/email",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e()})})).json())(e).then((e=>{null!=e.register_response_token&&(o("register_email_token",e.register_response_token,5),t.verificationMode())}))})(t,e)})),a.$$input=e=>n(e.target.value),r;var r,a};(0,r.z_)(["input"]);var c=(0,r.vs)("<form><input type=text placeholder=token required><input type=submit value=Login>");const u=async(e,t)=>(async e=>{let t=function(e){const t=document.cookie.split("; ");for(let e=0;e<t.length;e++){const n=t[e].split("=");if("register_email_token"===n[0]){const e=n[1];return decodeURIComponent(e)}}return null}();return null==t&&(t=""),(await fetch("http://127.0.0.1:8000/register/verify",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",register_email_token:t},body:JSON.stringify({verification_token:e()})})).json()})(e).then((e=>{o("register_verify_token",e.register_verify_token,1800),function(e){const t=new Date;t.setTime(t.getTime()-864e8);let n="; expires="+t.toUTCString();document.cookie="register_email_token="+n+"; path=/; secure; SameSite=Strict"}(),t.detailsMode()})),l=e=>{const[t,n]=(0,i.n5)("");return o=(r=c()).firstChild,r.addEventListener("submit",(function(n){n.preventDefault(),console.log("token: ",t()),u(t,e).then((e=>console.log("response: ",e)))})),o.$$input=e=>n(e.target.value),r;var r,o};(0,r.z_)(["input"]);var p=(0,r.vs)("<h1>Register"),d=(0,r.vs)("<p>text");const g=()=>{const[e,t]=(0,i.n5)(0);console.log(e());const n=()=>{t(1)},r=()=>{t(2)};return[p(),(0,i.a0)(i.dO,{get children(){return[(0,i.a0)(i.YG,{get when(){return 0===e()},get children(){return(0,i.a0)(a,{verificationMode:n})}}),(0,i.a0)(i.YG,{get when(){return 1===e()},get children(){return(0,i.a0)(l,{detailsMode:r})}}),(0,i.a0)(i.YG,{get when(){return 2===e()},get children(){return d()}})]}})]}}}]);