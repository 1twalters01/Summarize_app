"use strict";(self.webpackChunkSummarize=self.webpackChunkSummarize||[]).push([[104],{104:(o,r,e)=>{e.r(r),e.d(r,{default:()=>u});var t=e(743),n=e(841),i=(0,t.vs)("<nav><div><a href=http://127.0.0.1:8080/><img src=http://127.0.0.1:8080/favicon.ico><span>Summarize</span></a></div><div><a href=http://127.0.0.1:8080/pricing/>Pricing</a></div><div><a href=http://127.0.0.1:8080/accounts/login/>Log in</a><a href=http://127.0.0.1:8080/accounts/register/>Sign up"),s=(0,t.vs)("<h1>Log in"),a=(0,t.vs)("<form><input type=email placeholder=email required><input type=password placeholder=password><input type=input placeholder=totp><input type=submit value=Login>"),p=(0,t.vs)("<p>");const l=async o=>(await fetch("http://127.0.0.1:8000/login/email",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o()})})).json(),d=async(o,r)=>(await fetch("http://127.0.0.1:8000/login/password",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o(),password:r()})})).json(),h=async(o,r,e)=>await fetch("http://127.0.0.1:8000/login/totp",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o(),password:r(),totp:e()})}),u=()=>{const[o,r]=(0,n.n5)(0),[e,u]=(0,n.n5)(""),[w,f]=(0,n.n5)(""),[c,g]=(0,n.n5)("");return[i(),s(),(v=a(),y=v.firstChild,E=y.nextSibling,S=E.nextSibling,v.addEventListener("submit",(function(t){t.preventDefault(),console.log("email: ",e(),"\npassword: ",w()),(async(o,r,e,t,n)=>{let i;if(0===o())((o,r,e)=>{if(""==o())throw new Error("Email not supported for email login");if(""!=r())throw new Error("Password not supported for email login");if(""!=e())throw new Error("Totp not supported for email login")})(e,t,n),i=l(e).then((o=>{console.log(o),!0===o&&r(1)}));else if(1===o())((o,r,e)=>{if(""==o())throw new Error("Email not supported for password login");if(""==r())throw new Error("Password required for password login");if(""!=e())throw new Error("Totp not supported for password login")})(e,t,n),i=d(e,t).then((o=>{!0===o&&r(2)}));else{if(2!==o())throw new Error("Invalid mode: "+o);((o,r,e)=>{if(""==o())throw new Error("Email not supported for password login");if(""==r())throw new Error("Password required for password login");if(""==e())throw new Error("Totp required for password login")})(e,t,n),i=h(e,t,n)}return i})(o,r,e,w,c).then((o=>console.log("response: ",o)))})),y.$$input=o=>u(o.target.value),E.$$input=o=>f(o.target.value),S.$$input=o=>g(o.target.value),v),(m=p(),(0,t.Yr)(m,e),m)];var m,v,y,E,S};(0,t.z_)(["input"])}}]);