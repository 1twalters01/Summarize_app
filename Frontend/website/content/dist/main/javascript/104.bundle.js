"use strict";(self.webpackChunkSummarize=self.webpackChunkSummarize||[]).push([[104],{104:(o,r,t)=>{t.r(r),t.d(r,{default:()=>u});var e=t(743),i=t(841),n=(0,e.vs)("<nav><div><a href=http://127.0.0.1:8080/><img src=http://127.0.0.1:8080/favicon.ico><span>Summarize</span></a></div><div><a href=http://127.0.0.1:8080/pricing/>Pricing</a></div><div><a href=http://127.0.0.1:8080/accounts/login/>Log in</a><a href=http://127.0.0.1:8080/accounts/register/>Sign up"),a=(0,e.vs)("<h1>Login"),s=(0,e.vs)("<form><input type=email placeholder=email required><input type=password placeholder=password><input type=input placeholder=totp><input type=submit value=Login>"),p=(0,e.vs)("<p>");const l=async o=>(await fetch("http://127.0.0.1:8000/login/email",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o()})})).json(),d=async(o,r)=>(await fetch("http://127.0.0.1:8000/login/password",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o(),password:r()})})).json(),h=async(o,r,t)=>await fetch("http://127.0.0.1:8000/login/totp",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o(),password:r(),totp:t()})}),u=()=>{const[o,r]=(0,i.n5)(0),[t,u]=(0,i.n5)(""),[w,f]=(0,i.n5)(""),[c,g]=(0,i.n5)("");return[n(),a(),(v=s(),y=v.firstChild,E=y.nextSibling,S=E.nextSibling,v.addEventListener("submit",(function(e){e.preventDefault(),console.log("email: ",t(),"\npassword: ",w()),(async(o,r,t,e,i)=>{let n;if(0===o())((o,r,t)=>{if(""==o())throw new Error("Email not supported for email login");if(""!=r())throw new Error("Password not supported for email login");if(""!=t())throw new Error("Totp not supported for email login")})(t,e,i),n=l(t).then((o=>{!0===o&&r(1)}));else if(1===o())((o,r,t)=>{if(""==o())throw new Error("Email not supported for password login");if(""==r())throw new Error("Password required for password login");if(""!=t())throw new Error("Totp not supported for password login")})(t,e,i),n=d(t,e).then((o=>{!0===o&&r(2)}));else{if(2!==o())throw new Error("Invalid mode: "+o);((o,r,t)=>{if(""==o())throw new Error("Email not supported for password login");if(""==r())throw new Error("Password required for password login");if(""==t())throw new Error("Totp required for password login")})(t,e,i),n=h(t,e,i)}return n})(o,r,t,w,c).then((o=>console.log("response: ",o)))})),y.$$input=o=>u(o.target.value),E.$$input=o=>f(o.target.value),S.$$input=o=>g(o.target.value),v),(m=p(),(0,e.Yr)(m,t),m)];var m,v,y,E,S};(0,e.z_)(["input"])}}]);